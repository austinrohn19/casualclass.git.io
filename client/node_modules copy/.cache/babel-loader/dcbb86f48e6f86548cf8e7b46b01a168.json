{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\src\\\\containers\\\\Trending\\\\Trending.js\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as videoActions from \"../../store/actions/video\";\nimport { allMostPopularVideosLoaded, getMostPopularVideos, getMostPopularVideosNextPageToken } from '../../store/reducers/videos';\nimport { getYoutubeLibraryLoaded } from '../../store/reducers/api';\nimport { VideoList } from '../../components/VideoList/VideoList';\n\nvar Trending = /*#__PURE__*/function (_React$Component) {\n  _inherits(Trending, _React$Component);\n\n  var _super = _createSuper(Trending);\n\n  function Trending() {\n    var _this;\n\n    _classCallCheck(this, Trending);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.fetchMoreVideos = function () {\n      var nextPageToken = _this.props.nextPageToken;\n\n      if (_this.props.youtubeLibraryLoaded && nextPageToken) {\n        _this.props.fetchMostPopularVideos(12, true, nextPageToken);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Trending, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchTrendingVideos();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\n        this.fetchTrendingVideos();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loaderActive = this.shouldShowLoader();\n      return /*#__PURE__*/React.createElement(VideoList, {\n        bottomReachedCallback: this.fetchMoreVideos,\n        showLoader: loaderActive,\n        videos: this.props.videos,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"fetchTrendingVideos\",\n    value: function fetchTrendingVideos() {\n      if (this.props.youtubeLibraryLoaded) {\n        this.props.fetchMostPopularVideos(20, true);\n      }\n    }\n  }, {\n    key: \"shouldShowLoader\",\n    value: function shouldShowLoader() {\n      return !this.props.allMostPopularVideosLoaded;\n    }\n  }]);\n\n  return Trending;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    videos: getMostPopularVideos(state),\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\n    nextPageToken: getMostPopularVideosNextPageToken(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  var fetchMostPopularVideos = videoActions.mostPopular.request;\n  return bindActionCreators({\n    fetchMostPopularVideos\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);","map":{"version":3,"sources":["C:/Users/Austin/OneDrive/youtube-react/src/containers/Trending/Trending.js"],"names":["React","bindActionCreators","connect","videoActions","allMostPopularVideosLoaded","getMostPopularVideos","getMostPopularVideosNextPageToken","getYoutubeLibraryLoaded","VideoList","Trending","fetchMoreVideos","nextPageToken","props","youtubeLibraryLoaded","fetchMostPopularVideos","fetchTrendingVideos","prevProps","loaderActive","shouldShowLoader","videos","Component","mapStateToProps","state","mapDispatchToProps","dispatch","mostPopular","request"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,YAAZ,MAA8B,2BAA9B;AACA,SACEC,0BADF,EAEEC,oBAFF,EAGEC,iCAHF,QAIO,6BAJP;AAKA,SAAQC,uBAAR,QAAsC,0BAAtC;AACA,SAAQC,SAAR,QAAwB,sCAAxB;;IAEMC,Q;;;;;;;;;;;;;;;;UAqBJC,e,GAAkB,YAAM;AAAA,UACfC,aADe,GACE,MAAKC,KADP,CACfD,aADe;;AAEtB,UAAI,MAAKC,KAAL,CAAWC,oBAAX,IAAmCF,aAAvC,EAAsD;AACpD,cAAKC,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,EAAsC,IAAtC,EAA4CH,aAA5C;AACD;AACF,K;;;;;;;wCAzBmB;AAClB,WAAKI,mBAAL;AACD;;;uCAEkBC,S,EAAW;AAC5B,UAAIA,SAAS,CAACH,oBAAV,KAAmC,KAAKD,KAAL,CAAWC,oBAAlD,EAAwE;AACtE,aAAKE,mBAAL;AACD;AACF;;;6BAEQ;AACP,UAAME,YAAY,GAAG,KAAKC,gBAAL,EAArB;AAEA,0BAAQ,oBAAC,SAAD;AACN,QAAA,qBAAqB,EAAE,KAAKR,eADtB;AAEN,QAAA,UAAU,EAAEO,YAFN;AAGN,QAAA,MAAM,EAAE,KAAKL,KAAL,CAAWO,MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AAID;;;0CAUqB;AACpB,UAAI,KAAKP,KAAL,CAAWC,oBAAf,EAAqC;AACnC,aAAKD,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,EAAsC,IAAtC;AACD;AACF;;;uCAEkB;AACjB,aAAO,CAAC,KAAKF,KAAL,CAAWR,0BAAnB;AACD;;;;EApCoBJ,KAAK,CAACoB,S;;AAuC7B,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLH,IAAAA,MAAM,EAAEd,oBAAoB,CAACiB,KAAD,CADvB;AAELT,IAAAA,oBAAoB,EAAEN,uBAAuB,CAACe,KAAD,CAFxC;AAGLlB,IAAAA,0BAA0B,EAAEA,0BAA0B,CAACkB,KAAD,CAHjD;AAILX,IAAAA,aAAa,EAAEL,iCAAiC,CAACgB,KAAD;AAJ3C,GAAP;AAMD;;AAED,SAASC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,MAAMV,sBAAsB,GAAGX,YAAY,CAACsB,WAAb,CAAyBC,OAAxD;AACA,SAAOzB,kBAAkB,CAAC;AAACa,IAAAA;AAAD,GAAD,EAA2BU,QAA3B,CAAzB;AACD;;AAED,eAAetB,OAAO,CAACmB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6Cd,QAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as videoActions from \"../../store/actions/video\";\r\nimport {\r\n  allMostPopularVideosLoaded,\r\n  getMostPopularVideos,\r\n  getMostPopularVideosNextPageToken\r\n} from '../../store/reducers/videos';\r\nimport {getYoutubeLibraryLoaded} from '../../store/reducers/api';\r\nimport {VideoList} from '../../components/VideoList/VideoList';\r\n\r\nclass Trending extends React.Component {\r\n  componentDidMount() {\r\n    this.fetchTrendingVideos();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\r\n      this.fetchTrendingVideos();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const loaderActive = this.shouldShowLoader();\r\n\r\n    return (<VideoList\r\n      bottomReachedCallback={this.fetchMoreVideos}\r\n      showLoader={loaderActive}\r\n      videos={this.props.videos}/>);\r\n  }\r\n\r\n\r\n  fetchMoreVideos = () => {\r\n    const {nextPageToken} = this.props;\r\n    if (this.props.youtubeLibraryLoaded && nextPageToken) {\r\n      this.props.fetchMostPopularVideos(12, true, nextPageToken);\r\n    }\r\n  };\r\n\r\n  fetchTrendingVideos() {\r\n    if (this.props.youtubeLibraryLoaded) {\r\n      this.props.fetchMostPopularVideos(20, true);\r\n    }\r\n  }\r\n\r\n  shouldShowLoader() {\r\n    return !this.props.allMostPopularVideosLoaded;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    videos: getMostPopularVideos(state),\r\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\r\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\r\n    nextPageToken: getMostPopularVideosNextPageToken(state),\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  const fetchMostPopularVideos = videoActions.mostPopular.request;\r\n  return bindActionCreators({fetchMostPopularVideos}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);"]},"metadata":{},"sourceType":"module"}