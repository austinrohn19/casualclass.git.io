{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{bindActionCreators}from'redux';import{connect}from'react-redux';import*as videoActions from\"../../store/actions/video\";import{allMostPopularVideosLoaded,getMostPopularVideos,getMostPopularVideosNextPageToken}from'../../store/reducers/videos';import{getYoutubeLibraryLoaded}from'../../store/reducers/api';import{VideoList}from'../../components/VideoList/VideoList';var Trending=/*#__PURE__*/function(_React$Component){_inherits(Trending,_React$Component);var _super=_createSuper(Trending);function Trending(){var _this;_classCallCheck(this,Trending);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.fetchMoreVideos=function(){var nextPageToken=_this.props.nextPageToken;if(_this.props.youtubeLibraryLoaded&&nextPageToken){_this.props.fetchMostPopularVideos(12,true,nextPageToken);}};return _this;}_createClass(Trending,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTrendingVideos();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.youtubeLibraryLoaded!==this.props.youtubeLibraryLoaded){this.fetchTrendingVideos();}}},{key:\"render\",value:function render(){var loaderActive=this.shouldShowLoader();return/*#__PURE__*/React.createElement(VideoList,{bottomReachedCallback:this.fetchMoreVideos,showLoader:loaderActive,videos:this.props.videos});}},{key:\"fetchTrendingVideos\",value:function fetchTrendingVideos(){if(this.props.youtubeLibraryLoaded){this.props.fetchMostPopularVideos(20,true);}}},{key:\"shouldShowLoader\",value:function shouldShowLoader(){return!this.props.allMostPopularVideosLoaded;}}]);return Trending;}(React.Component);function mapStateToProps(state){return{videos:getMostPopularVideos(state),youtubeLibraryLoaded:getYoutubeLibraryLoaded(state),allMostPopularVideosLoaded:allMostPopularVideosLoaded(state),nextPageToken:getMostPopularVideosNextPageToken(state)};}function mapDispatchToProps(dispatch){var fetchMostPopularVideos=videoActions.mostPopular.request;return bindActionCreators({fetchMostPopularVideos},dispatch);}export default connect(mapStateToProps,mapDispatchToProps)(Trending);","map":{"version":3,"sources":["C:/Users/Austin/OneDrive/youtube-react/src/containers/Trending/Trending.js"],"names":["React","bindActionCreators","connect","videoActions","allMostPopularVideosLoaded","getMostPopularVideos","getMostPopularVideosNextPageToken","getYoutubeLibraryLoaded","VideoList","Trending","fetchMoreVideos","nextPageToken","props","youtubeLibraryLoaded","fetchMostPopularVideos","fetchTrendingVideos","prevProps","loaderActive","shouldShowLoader","videos","Component","mapStateToProps","state","mapDispatchToProps","dispatch","mostPopular","request"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,kBAAR,KAAiC,OAAjC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,2BAA9B,CACA,OACEC,0BADF,CAEEC,oBAFF,CAGEC,iCAHF,KAIO,6BAJP,CAKA,OAAQC,uBAAR,KAAsC,0BAAtC,CACA,OAAQC,SAAR,KAAwB,sCAAxB,C,GAEMC,CAAAA,Q,+UAqBJC,e,CAAkB,UAAM,IACfC,CAAAA,aADe,CACE,MAAKC,KADP,CACfD,aADe,CAEtB,GAAI,MAAKC,KAAL,CAAWC,oBAAX,EAAmCF,aAAvC,CAAsD,CACpD,MAAKC,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,CAAsC,IAAtC,CAA4CH,aAA5C,EACD,CACF,C,iGAzBmB,CAClB,KAAKI,mBAAL,GACD,C,8DAEkBC,S,CAAW,CAC5B,GAAIA,SAAS,CAACH,oBAAV,GAAmC,KAAKD,KAAL,CAAWC,oBAAlD,CAAwE,CACtE,KAAKE,mBAAL,GACD,CACF,C,uCAEQ,CACP,GAAME,CAAAA,YAAY,CAAG,KAAKC,gBAAL,EAArB,CAEA,mBAAQ,oBAAC,SAAD,EACN,qBAAqB,CAAE,KAAKR,eADtB,CAEN,UAAU,CAAEO,YAFN,CAGN,MAAM,CAAE,KAAKL,KAAL,CAAWO,MAHb,EAAR,CAID,C,iEAUqB,CACpB,GAAI,KAAKP,KAAL,CAAWC,oBAAf,CAAqC,CACnC,KAAKD,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,CAAsC,IAAtC,EACD,CACF,C,2DAEkB,CACjB,MAAO,CAAC,KAAKF,KAAL,CAAWR,0BAAnB,CACD,C,sBApCoBJ,KAAK,CAACoB,S,EAuC7B,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLH,MAAM,CAAEd,oBAAoB,CAACiB,KAAD,CADvB,CAELT,oBAAoB,CAAEN,uBAAuB,CAACe,KAAD,CAFxC,CAGLlB,0BAA0B,CAAEA,0BAA0B,CAACkB,KAAD,CAHjD,CAILX,aAAa,CAAEL,iCAAiC,CAACgB,KAAD,CAJ3C,CAAP,CAMD,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,GAAMV,CAAAA,sBAAsB,CAAGX,YAAY,CAACsB,WAAb,CAAyBC,OAAxD,CACA,MAAOzB,CAAAA,kBAAkB,CAAC,CAACa,sBAAD,CAAD,CAA2BU,QAA3B,CAAzB,CACD,CAED,cAAetB,CAAAA,OAAO,CAACmB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6Cd,QAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as videoActions from \"../../store/actions/video\";\r\nimport {\r\n  allMostPopularVideosLoaded,\r\n  getMostPopularVideos,\r\n  getMostPopularVideosNextPageToken\r\n} from '../../store/reducers/videos';\r\nimport {getYoutubeLibraryLoaded} from '../../store/reducers/api';\r\nimport {VideoList} from '../../components/VideoList/VideoList';\r\n\r\nclass Trending extends React.Component {\r\n  componentDidMount() {\r\n    this.fetchTrendingVideos();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\r\n      this.fetchTrendingVideos();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const loaderActive = this.shouldShowLoader();\r\n\r\n    return (<VideoList\r\n      bottomReachedCallback={this.fetchMoreVideos}\r\n      showLoader={loaderActive}\r\n      videos={this.props.videos}/>);\r\n  }\r\n\r\n\r\n  fetchMoreVideos = () => {\r\n    const {nextPageToken} = this.props;\r\n    if (this.props.youtubeLibraryLoaded && nextPageToken) {\r\n      this.props.fetchMostPopularVideos(12, true, nextPageToken);\r\n    }\r\n  };\r\n\r\n  fetchTrendingVideos() {\r\n    if (this.props.youtubeLibraryLoaded) {\r\n      this.props.fetchMostPopularVideos(20, true);\r\n    }\r\n  }\r\n\r\n  shouldShowLoader() {\r\n    return !this.props.allMostPopularVideosLoaded;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    videos: getMostPopularVideos(state),\r\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\r\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\r\n    nextPageToken: getMostPopularVideosNextPageToken(state),\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  const fetchMostPopularVideos = videoActions.mostPopular.request;\r\n  return bindActionCreators({fetchMostPopularVideos}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);"]},"metadata":{},"sourceType":"module"}