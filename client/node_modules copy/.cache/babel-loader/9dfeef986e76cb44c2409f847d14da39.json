{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Austin\\\\OneDrive\\\\youtube-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{SEARCH_FOR_VIDEOS}from'../actions/search';import{REQUEST,SUCCESS}from'../actions';export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SEARCH_FOR_VIDEOS[SUCCESS]:return reduceSearchForVideos(action.response,action.searchQuery,state);case SEARCH_FOR_VIDEOS[REQUEST]:// delete the previous search because otherwise our component flickers and shows the\n// previous search results before it shows\nreturn action.nextPageToken?state:{};default:return state;}}function reduceSearchForVideos(response,searchQuery,prevState){var searchResults=response.items.map(function(item){return _objectSpread(_objectSpread({},item),{},{id:item.id.videoId});});if(prevState.query===searchQuery){var prevResults=prevState.results||[];searchResults=prevResults.concat(searchResults);}return{totalResults:response.pageInfo.totalResults,nextPageToken:response.nextPageToken,query:searchQuery,results:searchResults};}/*\r\n  Selectors\r\n */export var getSearchResults=function getSearchResults(state){return state.search.results;};export var getSearchNextPageToken=function getSearchNextPageToken(state){return state.search.nextPageToken;};","map":{"version":3,"sources":["C:/Users/Austin/OneDrive/youtube-react/src/store/reducers/search.js"],"names":["SEARCH_FOR_VIDEOS","REQUEST","SUCCESS","state","action","type","reduceSearchForVideos","response","searchQuery","nextPageToken","prevState","searchResults","items","map","item","id","videoId","query","prevResults","results","concat","totalResults","pageInfo","getSearchResults","search","getSearchNextPageToken"],"mappings":"qKAAA,OAAQA,iBAAR,KAAgC,mBAAhC,CACA,OAAQC,OAAR,CAAiBC,OAAjB,KAA+B,YAA/B,CAEA,cAAe,WAA8B,IAApBC,CAAAA,KAAoB,2DAAZ,EAAY,IAARC,CAAAA,MAAQ,2CAC3C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,iBAAiB,CAACE,OAAD,CAAtB,CACE,MAAOI,CAAAA,qBAAqB,CAACF,MAAM,CAACG,QAAR,CAAkBH,MAAM,CAACI,WAAzB,CAAsCL,KAAtC,CAA5B,CACF,IAAKH,CAAAA,iBAAiB,CAACC,OAAD,CAAtB,CACE;AACA;AACA,MAAOG,CAAAA,MAAM,CAACK,aAAP,CAAuBN,KAAvB,CAA+B,EAAtC,CACF,QACE,MAAOA,CAAAA,KAAP,CARJ,CAUD,CAED,QAASG,CAAAA,qBAAT,CAA+BC,QAA/B,CAAyCC,WAAzC,CAAsDE,SAAtD,CAAiE,CAC/D,GAAIC,CAAAA,aAAa,CAAGJ,QAAQ,CAACK,KAAT,CAAeC,GAAf,CAAmB,SAAAC,IAAI,wCAASA,IAAT,MAAeC,EAAE,CAAED,IAAI,CAACC,EAAL,CAAQC,OAA3B,IAAvB,CAApB,CACA,GAAIN,SAAS,CAACO,KAAV,GAAoBT,WAAxB,CAAqC,CACnC,GAAMU,CAAAA,WAAW,CAAGR,SAAS,CAACS,OAAV,EAAqB,EAAzC,CACAR,aAAa,CAAGO,WAAW,CAACE,MAAZ,CAAmBT,aAAnB,CAAhB,CACD,CACD,MAAO,CACLU,YAAY,CAAEd,QAAQ,CAACe,QAAT,CAAkBD,YAD3B,CAELZ,aAAa,CAAEF,QAAQ,CAACE,aAFnB,CAGLQ,KAAK,CAAET,WAHF,CAILW,OAAO,CAAER,aAJJ,CAAP,CAMD,CAED;;GAGA,MAAO,IAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACpB,KAAD,QAAWA,CAAAA,KAAK,CAACqB,MAAN,CAAaL,OAAxB,EAAzB,CACP,MAAO,IAAMM,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACtB,KAAD,QAAWA,CAAAA,KAAK,CAACqB,MAAN,CAAaf,aAAxB,EAA/B","sourcesContent":["import {SEARCH_FOR_VIDEOS} from '../actions/search';\r\nimport {REQUEST, SUCCESS} from '../actions';\r\n\r\nexport default function (state = {}, action) {\r\n  switch (action.type) {\r\n    case SEARCH_FOR_VIDEOS[SUCCESS]:\r\n      return reduceSearchForVideos(action.response, action.searchQuery, state);\r\n    case SEARCH_FOR_VIDEOS[REQUEST]:\r\n      // delete the previous search because otherwise our component flickers and shows the\r\n      // previous search results before it shows\r\n      return action.nextPageToken ? state : {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction reduceSearchForVideos(response, searchQuery, prevState) {\r\n  let searchResults = response.items.map(item => ({...item, id: item.id.videoId}));\r\n  if (prevState.query === searchQuery) {\r\n    const prevResults = prevState.results || [];\r\n    searchResults = prevResults.concat(searchResults);\r\n  }\r\n  return {\r\n    totalResults: response.pageInfo.totalResults,\r\n    nextPageToken: response.nextPageToken,\r\n    query: searchQuery,\r\n    results: searchResults\r\n  };\r\n}\r\n\r\n/*\r\n  Selectors\r\n */\r\nexport const getSearchResults = (state) => state.search.results;\r\nexport const getSearchNextPageToken = (state) => state.search.nextPageToken;\r\n"]},"metadata":{},"sourceType":"module"}